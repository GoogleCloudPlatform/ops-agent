// These are the shared lists of test images organized by distro and
// grouped by the most fine-grained build artifact (in this case, the
// per-distro Ops Agent package).

local template _distro {
  // List of release images.
  release = external
  // The representative images to be used in presubmit (defaults to none).
  // Presubmits usually smoke test only the oldest and newest OS families from
  // a certain OS to speed up presubmit tests and reduce flakiness. The full
  // set will be tested by the nightly jobs.
  presubmit = []
}

// DEB Linux distros. (Do not modify this comment.)
bookworm_aarch64 = _distro {
  release = [
      'debian-cloud:debian-12-arm64',
  ]
  presubmit = [
      'debian-cloud:debian-12-arm64',
  ]
}
mantic_x86_64 = _distro {
  release = [
      'ubuntu-os-cloud:ubuntu-2310-amd64',
      'ubuntu-os-cloud:ubuntu-minimal-2310-amd64',
  ]
  presubmit = [
      'ubuntu-os-cloud:ubuntu-minimal-2310-amd64',
  ]
}
mantic_aarch64 = _distro {
  release = [
      'ubuntu-os-cloud:ubuntu-2310-arm64',
      'ubuntu-os-cloud:ubuntu-minimal-2310-arm64',
  ]
  presubmit = [
      'ubuntu-os-cloud:ubuntu-minimal-2310-arm64',
  ]
}
bookworm_x86_64 = _distro {
  release = [
      'debian-cloud:debian-12',
  ]
  presubmit = [
      'debian-cloud:debian-12',
  ]
}
buster_x86_64 = _distro {
  release = ['debian-cloud:debian-10']
  presubmit = ['debian-cloud:debian-10']
}
bullseye_x86_64 = _distro {
  release = ['debian-cloud:debian-11']
  presubmit = ['debian-cloud:debian-11']
}
bullseye_aarch64 = _distro {
  release = ['debian-cloud:debian-11-arm64']
  presubmit = ['debian-cloud:debian-11-arm64']
}
focal_x86_64 = _distro {
  release = [
    'ubuntu-os-cloud:ubuntu-2004-lts',
    'ubuntu-os-cloud:ubuntu-minimal-2004-lts',
  ]
  presubmit = ['ubuntu-os-cloud:ubuntu-minimal-2004-lts']
}
focal_aarch64 = _distro {
  release = [
      'ubuntu-os-cloud:ubuntu-2004-lts-arm64',
      'ubuntu-os-cloud:ubuntu-minimal-2004-lts-arm64',
  ]
  presubmit = [
      'ubuntu-os-cloud:ubuntu-2004-lts-arm64',
  ]
}
jammy_x86_64 = _distro {
  release = [
    'ubuntu-os-cloud:ubuntu-2204-lts',
    'ubuntu-os-cloud:ubuntu-minimal-2204-lts',
  ]
  presubmit = [
      'ubuntu-os-cloud:ubuntu-minimal-2204-lts',
  ]
}
jammy_aarch64 = _distro {
  release = [
    'ubuntu-os-cloud:ubuntu-2204-lts-arm64',
    'ubuntu-os-cloud:ubuntu-minimal-2204-lts-arm64',
  ]
  presubmit = [
      'ubuntu-os-cloud:ubuntu-minimal-2204-lts-arm64',
  ]
}

// RPM Linux distros. (Do not modify this comment.)
centos7_x86_64 = _distro {
  release = [
    // CentOS.
    'centos-cloud:centos-7',
    // RHEL.
    'rhel-cloud:rhel-7',
    'rhel-sap-cloud:rhel-7-9-sap-ha',
  ]
  presubmit = ['centos-cloud:centos-7']
}
centos8_x86_64 = _distro {
  release = [
    // RHEL.
    'rhel-cloud:rhel-8',
    'rhel-sap-cloud:rhel-8-2-sap-ha',
    'rhel-sap-cloud:rhel-8-4-sap-ha',
    'rhel-sap-cloud:rhel-8-6-sap-ha',
    // Rocky.
    'rocky-linux-cloud:rocky-linux-8',
  ]
  presubmit = ['rocky-linux-cloud:rocky-linux-8']
}
rockylinux9_x86_64 = _distro {
  release = [
    // RHEL.
    'rhel-cloud:rhel-9',
    // Rocky.
    'rocky-linux-cloud:rocky-linux-9',
  ]
  presubmit = ['rocky-linux-cloud:rocky-linux-9']
}
rockylinux9_aarch64 = _distro {
  release = [
    // RHEL.
    'rhel-cloud:rhel-9-arm64',
    // Rocky.
    'rocky-linux-cloud:rocky-linux-9-arm64',
  ]
  presubmit = ['rocky-linux-cloud:rocky-linux-9-arm64']
}
sles12_x86_64 = _distro {
  release = [
    'suse-cloud:sles-12',
    'suse-sap-cloud:sles-12-sp5-sap',
  ]
  presubmit = ['suse-cloud:sles-12']
}
sles15_x86_64 = _distro {
  release = [
    'suse-cloud:sles-15',
    'suse-sap-cloud:rhel-sap-cloud:sles-15-sp2-sap',
    'suse-sap-cloud:rhel-sap-cloud:sles-15-sp5-sap',
    'opensuse-cloud:opensuse-leap',
    'opensuse-cloud=opensuse-leap-15-4-v20231208-x86-64',
  ]
  presubmit = ['suse-cloud:sles-15']
}
sles15_aarch64 = _distro {
  release = [
    'suse-cloud:sles-15-arm64',
    'opensuse-cloud:opensuse-leap-arm64',
  ]
  presubmit = ['suse-cloud:sles-15-arm64']
}

// Windows distros.
windows_x86_64 = _distro {
  release = [
    'windows-2016',
    'windows-2016-core',
    'windows-2019',
    'windows-2019-core',
    'windows-2022',
    'windows-2022-core',
  ]
  presubmit = [
    'windows-2016-core',
    'windows-2022',
  ]
}
