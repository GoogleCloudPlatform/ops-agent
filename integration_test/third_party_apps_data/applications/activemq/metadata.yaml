public_url: "https://cloud.google.com/stackdriver/docs/solutions/agents/ops-agent/third-party/activemq"
short_name: ActiveMQ
long_name: Apache ActiveMQ
description: |-
  The Apache ActiveMQ integration collects storage usage and message metrics.
  Storage metrics include memory and disk usage. Message metrics include number of
  waiting messages, average wait time, and expired messages.

  For more information about ActiveMQ, see
  [activemq.apache.org/](https://activemq.apache.org/).
minimum_supported_agent_version:
  metrics: 2.11.0
supported_app_version: ["Classic 5.8.x-5.16.x", "Artemis 2.x"]
expected_metrics:
- type: workload.googleapis.com/activemq.connection.count
  value_type: INT64
  kind: GAUGE
  monitored_resource: gce_instance
  labels: {}
- type: workload.googleapis.com/activemq.consumer.count
  value_type: INT64
  kind: GAUGE
  monitored_resource: gce_instance
  labels:
    broker: .*
    destination: .*
  representative: true
- type: workload.googleapis.com/activemq.disk.store_usage
  value_type: DOUBLE
  kind: GAUGE
  monitored_resource: gce_instance
  labels: {}
- type: workload.googleapis.com/activemq.disk.temp_usage
  value_type: DOUBLE
  kind: GAUGE
  monitored_resource: gce_instance
  labels: {}
- type: workload.googleapis.com/activemq.memory.usage
  value_type: DOUBLE
  kind: GAUGE
  monitored_resource: gce_instance
  labels:
    broker: .*
    destination: .*
- type: workload.googleapis.com/activemq.message.current
  value_type: INT64
  kind: GAUGE
  monitored_resource: gce_instance
  labels:
    broker: .*
    destination: .*
- type: workload.googleapis.com/activemq.message.dequeued
  value_type: INT64
  kind: CUMULATIVE
  monitored_resource: gce_instance
  labels:
    broker: .*
    destination: .*
- type: workload.googleapis.com/activemq.message.enqueued
  value_type: INT64
  kind: CUMULATIVE
  monitored_resource: gce_instance
  labels:
    broker: .*
    destination: .*
- type: workload.googleapis.com/activemq.message.expired
  value_type: INT64
  kind: CUMULATIVE
  monitored_resource: gce_instance
  labels:
    broker: .*
    destination: .*
- type: workload.googleapis.com/activemq.message.wait_time.avg
  value_type: DOUBLE
  kind: GAUGE
  monitored_resource: gce_instance
  labels:
    broker: .*
    destination: .*
- type: workload.googleapis.com/activemq.producer.count
  value_type: INT64
  kind: GAUGE
  monitored_resource: gce_instance
  labels:
    broker: .*
    destination: .*
configuration_options:
  logs:
  - type: ""
    fields:
    - name: type
      default: null
      description: ""
    - name: include_paths
      default: '[/var/log/apache2/access.log,/var/log/apache2/access_log,/var/log/httpd/access_log]'
      description: A list of filesystem paths to read by tailing each file. A wild card (*) can be used in the paths; for example, /var/log/apache*/*.log.
    - name: exclude_paths
      default: null
      description: A list of filesystem path patterns to exclude from the set matched by include_paths.
    - name: wildcard_refresh_interval
      default: 60s
      description: The interval at which wildcard file paths in include_paths are refreshed. Given as a time duration, for example 30s or 2m. This property might be useful under high logging throughputs where log files are rotated faster than the default interval.
  metrics:
  - type: apache
    fields:
    - name: type
      default: null
      description: This value must be apache.
    - name: server_status_url
      default: http://localhost:80/server-status?auto
      description: The URL exposed by the mod_status module.
    - name: collection_interval
      default: 60s
      description: A time.Duration value, such as 30s or 5m.
