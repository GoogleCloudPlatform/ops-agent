- exit_error: exit status 1
- collector_errors:
  - stderr: |
      Error: invalid configuration: processors::transform/logs_transformation__test_my-log-name_0: unable to parse OTTL statement "set(log.cache[\"__parsed_regex\"], ExtractPatternsRubyRegex(log.body[\"message\"], \"^(?<http_request_remoteIp>[^ ]*) (?<host>[^ ]*) (?<user>[^ ]*) \\\\[(?<time>[^\\\\]]*)\\\\] \\\"(?<http_request_requestMethod>\\\\S+)(?: +(?<http_request_requestUrl>[^\\\\\\\"]*?)(?: +(?<http_request_protocol>\\\\S+))?)?\\\" (?<http_request_status>[^ ]*) (?<http_request_responseSize>[^ ]*)(?: \\\"(?<http_request_referer>[^\\\\\\\"]*)\\\" \\\"(?<http_request_userAgent>[^\\\\\\\"]*)\\\")?(?: \\\"(?<gzip_ratio>[^\\\\\\\"]*)\\\")?$\", true)) where ((log.body != nil and log.body[\"message\"] != nil) and IsMatchRubyRegex(log.body[\"message\"], \"^(?<http_request_remoteIp>[^ ]*) (?<host>[^ ]*) (?<user>[^ ]*) \\\\[(?<time>[^\\\\]]*)\\\\] \\\"(?<http_request_requestMethod>\\\\S+)(?: +(?<http_request_requestUrl>[^\\\\\\\"]*?)(?: +(?<http_request_protocol>\\\\S+))?)?\\\" (?<http_request_status>[^ ]*) (?<http_request_responseSize>[^ ]*)(?: \\\"(?<http_request_referer>[^\\\\\\\"]*)\\\" \\\"(?<http_request_userAgent>[^\\\\\\\"]*)\\\")?(?: \\\"(?<gzip_ratio>[^\\\\\\\"]*)\\\")?$\"))": error while parsing arguments for call to "set": invalid argument at position 1: error while parsing arguments for call to "ExtractPatternsRubyRegex": incorrect number of arguments. Expected: 2 Received: 3
      processors::transform/logs_transformation__test_my-log-name_1: unable to parse OTTL statement "set(log.cache[\"__omit_0\"], true) where ((log.body != nil and log.body[\"http_request_referer\"] != nil) and IsMatchRubyRegex(log.body[\"http_request_referer\"], \"(?i)^-$\"))": undefined function "IsMatchRubyRegex"
      unable to parse OTTL statement "set(log.cache[\"__omit_1\"], true) where ((log.body != nil and log.body[\"gzip_ratio\"] != nil) and IsMatchRubyRegex(log.body[\"gzip_ratio\"], \"(?i)^-$\"))": undefined function "IsMatchRubyRegex"
      unable to parse OTTL statement "set(log.cache[\"__omit_2\"], true) where ((log.body != nil and log.body[\"host\"] != nil) and IsMatchRubyRegex(log.body[\"host\"], \"(?i)^-$\"))": undefined function "IsMatchRubyRegex"
      unable to parse OTTL statement "set(log.cache[\"__omit_3\"], true) where ((log.body != nil and log.body[\"user\"] != nil) and IsMatchRubyRegex(log.body[\"user\"], \"(?i)^-$\"))": undefined function "IsMatchRubyRegex"
      YYYY/MM/DD HH:MM:SS collector server run finished with error: invalid configuration: processors::transform/logs_transformation__test_my-log-name_0: unable to parse OTTL statement "set(log.cache[\"__parsed_regex\"], ExtractPatternsRubyRegex(log.body[\"message\"], \"^(?<http_request_remoteIp>[^ ]*) (?<host>[^ ]*) (?<user>[^ ]*) \\\\[(?<time>[^\\\\]]*)\\\\] \\\"(?<http_request_requestMethod>\\\\S+)(?: +(?<http_request_requestUrl>[^\\\\\\\"]*?)(?: +(?<http_request_protocol>\\\\S+))?)?\\\" (?<http_request_status>[^ ]*) (?<http_request_responseSize>[^ ]*)(?: \\\"(?<http_request_referer>[^\\\\\\\"]*)\\\" \\\"(?<http_request_userAgent>[^\\\\\\\"]*)\\\")?(?: \\\"(?<gzip_ratio>[^\\\\\\\"]*)\\\")?$\", true)) where ((log.body != nil and log.body[\"message\"] != nil) and IsMatchRubyRegex(log.body[\"message\"], \"^(?<http_request_remoteIp>[^ ]*) (?<host>[^ ]*) (?<user>[^ ]*) \\\\[(?<time>[^\\\\]]*)\\\\] \\\"(?<http_request_requestMethod>\\\\S+)(?: +(?<http_request_requestUrl>[^\\\\\\\"]*?)(?: +(?<http_request_protocol>\\\\S+))?)?\\\" (?<http_request_status>[^ ]*) (?<http_request_responseSize>[^ ]*)(?: \\\"(?<http_request_referer>[^\\\\\\\"]*)\\\" \\\"(?<http_request_userAgent>[^\\\\\\\"]*)\\\")?(?: \\\"(?<gzip_ratio>[^\\\\\\\"]*)\\\")?$\"))": error while parsing arguments for call to "set": invalid argument at position 1: error while parsing arguments for call to "ExtractPatternsRubyRegex": incorrect number of arguments. Expected: 2 Received: 3
      processors::transform/logs_transformation__test_my-log-name_1: unable to parse OTTL statement "set(log.cache[\"__omit_0\"], true) where ((log.body != nil and log.body[\"http_request_referer\"] != nil) and IsMatchRubyRegex(log.body[\"http_request_referer\"], \"(?i)^-$\"))": undefined function "IsMatchRubyRegex"
      unable to parse OTTL statement "set(log.cache[\"__omit_1\"], true) where ((log.body != nil and log.body[\"gzip_ratio\"] != nil) and IsMatchRubyRegex(log.body[\"gzip_ratio\"], \"(?i)^-$\"))": undefined function "IsMatchRubyRegex"
      unable to parse OTTL statement "set(log.cache[\"__omit_2\"], true) where ((log.body != nil and log.body[\"host\"] != nil) and IsMatchRubyRegex(log.body[\"host\"], \"(?i)^-$\"))": undefined function "IsMatchRubyRegex"
      unable to parse OTTL statement "set(log.cache[\"__omit_3\"], true) where ((log.body != nil and log.body[\"user\"] != nil) and IsMatchRubyRegex(log.body[\"user\"], \"(?i)^-$\"))": undefined function "IsMatchRubyRegex"
